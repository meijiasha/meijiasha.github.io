<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>咩呷啥後台登入</title>
    <!-- Favicon -->
    <link rel="shortcut icon" href="LOGO.svg" type="image/x-icon" />
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
    <style>
      body {
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        background-color: #f8f9fa;
      }
      .login-container {
        max-width: 400px;
        padding: 2rem;
        background-color: #fff;
        border-radius: 0.5rem;
        box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
      }
    </style>
  </head>
  <body>
    <div class="login-container">
      <h2 class="text-center mb-4">咩呷啥<br />店家管理後台登入</h2>
      <form id="loginForm">
        <div class="mb-3">
          <label for="loginEmail" class="form-label">電子郵件</label>
          <input type="email" class="form-control" id="loginEmail" placeholder="name@example.com" required />
        </div>
        <div class="mb-3">
          <label for="loginPassword" class="form-label">密碼</label>
          <input type="password" class="form-control" id="loginPassword" required />
        </div>
        <div class="d-grid">
          <button type="submit" class="btn btn-primary">登入</button>
        </div>
        <div id="loginError" class="mt-3 text-danger" style="display: none">
          <!-- 錯誤訊息會顯示在這裡 -->
        </div>
      </form>
      <!-- 可選：註冊連結 -->
      <!--
        <div class="mt-3 text-center">
            <p>還沒有帳號？ <a href="register.html">立即註冊</a></p>
        </div>
        -->
    </div>
    <!-- 在 <body> 的末尾，所有主要內容之後，<script> 標籤之前 -->
    <div class="toast-container position-fixed top-0 end-0 p-3">
      <!-- Toasts 將會被 JavaScript 動態插入到這裡 -->
      <!-- 可以預先放一個範例 Toast 結構來測試樣式，但 JS 會動態創建 -->
      <!--
    <div id="liveToastExample" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="toast-header">
            <svg class="bd-placeholder-img rounded me-2" width="20" height="20" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" preserveAspectRatio="xMidYMid slice" focusable="false"><rect width="100%" height="100%" fill="#007aff"></rect></svg>
            <strong class="me-auto">通知</strong>
            <small>剛剛</small>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body">
            這是一條 Toast 訊息。
        </div>
    </div>
    --></div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

    <!-- Firebase SDK (Compat - 使用您指定的版本，並帶有 cache-busting) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js?version=3"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js?version=3"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-firestore-compat.js?version=3"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-functions-compat.js?version=3"></script>

    <!-- Firebase 初始化 -->
    <script>
      console.log("login.html: Firebase config script block started.");
      const firebaseConfig = {
        apiKey: "AIzaSyA4sQav5EeZowQKRya14xeG9Lj3TyMQdM4",
        authDomain: "meijiasha-64de6.firebaseapp.com",
        projectId: "meijiasha-64de6",
        storageBucket: "meijiasha-64de6.appspot.com",
        messagingSenderId: "732275424686",
        appId: "1:732275424686:web:9e1349c421503f75da5c3f",
        measurementId: "G-07JZNDTJN7",
      };
      var auth; // 全域
      try {
        if (typeof firebase !== "undefined" && typeof firebase.initializeApp === "function") {
          firebase.initializeApp(firebaseConfig);
          if (typeof firebase.auth === "function") {
            auth = firebase.auth();
            console.log("login.html: auth instance created.");
          } else {
            console.error("login.html: firebase.auth is not a function!");
          }
          console.log("login.html: Firebase Initialized successfully.");
        } else {
          console.error("login.html: Firebase global object or initializeApp is not available!");
        }
      } catch (error) {
        /* ... */ auth = null;
      }
      console.log("login.html: Firebase config script block finished. auth type:", typeof auth);
    </script>

    <!-- 登入頁面專用 JavaScript -->
    <script src="login-script.js"></script>
  </body>
</html>
